<ion-header>
  <ion-navbar>
    <ion-title>Détail</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card>
        <ion-card-header>
            {{note?.title}}<br/>
            <span style="color: #666">{{note?.day}} / {{note?.month}} / {{note?.year}}</span>
        </ion-card-header>

        <ion-card-content>
            <ion-list>
                <ion-item>
                    <h2>Montant</h2>
                    <p>{{note?.amount}} {{note?.currency}}</p>
                </ion-item>
                <div *ngIf="note?.comment">
                    <ion-item>
                        <h2>Commentaire</h2>
                        <p>{{note?.comment}}</p>
                    </ion-item>
                </div>
                <div *ngIf="!note?.comment">
                    <ion-item>
                        <h2>Pas de commentaire</h2>
                    </ion-item>
                </div>
                <div *ngIf="note?.files.length > 0">
                    <ion-item>
                        <h2>Documents associés</h2>
                        <ion-list>
                            <ion-item *ngFor="let f of note?.files">
                                <a href="/uploads/{{note?._id}}/{{f}}" download>{{f}}</a>
                            </ion-item>
                        </ion-list>
                    </ion-item>
                </div>
                <div *ngIf="note?.files.length === 0">
                    <ion-item>
                        <h2>Aucun document associé</h2>
                    </ion-item>
                </div>
            </ion-list>
        </ion-card-content>
    </ion-card>
    <button *ngIf="note?.approved" ion-button color="secondary" (click)="approve()">Valider</button>
    <button *ngIf="!note?.approved" ion-button (click)="approve()">Déverrouiller</button>
</ion-content>
